#include <stdio.h>#include <stdlib.h>#include <signal.h>char mode;char threshold[5];char pid[5];FILE *fp;void sig(int battery){	fp = fopen("/proc/battery_notify","r");	fscanf(fp,"%s",pid); // 파일에서 PID 읽기	fclose(fp);		fp = fopen("/proc/battery_threshold","r");	fscanf(fp,"%s",threshold); // 파일에서 기준점 읽기  	fclose(fp);	if(battery < atoi(threshold))	{		if(mode != 's') 			kill(atoi(pid), SIGUSR1); // 배터리가 기준점보다 낮으면 절전모드		mode ='s';	}	else	{		if(mode != 'n')			kill(atoi(pid), SIGUSR2); // 배터리가 기준점보다 높으면 일반모드		mode ='n';	}	return;}